# PackMyTweaks - Contexto de la Aplicación

## Descripción General

PackMyTweaks es una aplicación web moderna inspirada en winAeroTweaker, pero con una arquitectura más moderna y mejor estructurada. A diferencia de la versión de escritorio, esta aplicación NO ejecuta scripts automáticamente, sino que proporciona opciones para que el usuario descargue y ejecute tweaks de forma manual y transparente.

## Funcionalidad Principal

- Los usuarios seleccionan tweaks de una base de datos
- Se hace match del tipo de archivo (.reg, .bat, etc.) para determinar el comportamiento
- Los usuarios pueden descargar y ejecutar los tweaks en su equipo de forma sencilla y transparente
- 100% modificable por el usuario

## Stack Tecnológico

- **Frontend**: Next.js con TypeScript
- **Estado**: TanStack Query
- **Base de datos**: Supabase
- **Autenticación**: Supabase Auth
- **UI/Componentes**: Shadcn/ui
- **Temas**: Shadcn Themes (Dark/Light mode)

## Arquitectura y Convenciones

- **Estructura de archivos**: kebab-case
- **Arquitectura**: Screaming Architecture
- **Separación**: Server-side rendering vs Client-side rendering
- **Reutilización**: Componentes/funciones reutilizables en archivos separados
- **Servicios**: Lógica y fetch de Supabase en carpeta "\*/services"

## Normas de Desarrollo

### Colores y Temas

- Usar SIEMPRE colores del tema de Shadcn (ej: `bg-background` en lugar de `bg-black`)
- Jugar con opacidades de colores si se necesitan más variaciones
- Evitar colores hardcodeados

### Seguridad

- Verificaciones de input para prevenir SQL injection
- Configurar RLS (Row Level Security) de Supabase
- Seguir buenas prácticas de seguridad

### Código

- Seguir buenas prácticas de Next.js
- Separar server-side del client-side
- Extraer componentes/funciones reutilizables
- Lógica y fetch de Supabase en carpeta "\*/services"

## Layout y Estructura

### Navegación

- **Menú lateral**: Siempre visible, no se puede ocultar
- **Rutas especiales**: No muestran rutas tradicionales, sino tweaks agrupados por secciones
- **Ejemplo de estructura**:
  ```
  - Appearance
    - Disable Windows Animations
    - etc...
  ```

### Header

- **Contador de tweaks**: Muestra cantidad de tweaks seleccionados
- **Settings Button**: Menú colapsable con opciones de descarga
  - Merge all Tweaks in single File: Combina tweaks de la misma extensión en un solo archivo
- **History Button**: Muestra historial reciente de tweaks aplicados

### Páginas

- **Estructura consistente**: Título, descripción, iconos
- **TweakContent variable**: Algunos tweaks requieren componentes diferentes a checkbox
- **Flag en BD**: Determina qué tipo de componente renderizar (checkbox por defecto)

## Base de Datos

- Almacenamiento de tweaks con metadatos
- Flag para determinar tipo de componente de renderizado
- Información de extensiones de archivo (.reg, .bat, etc.)
- Historial de tweaks aplicados por usuario

## Flujo de Usuario

1. Usuario navega por categorías de tweaks
2. Selecciona tweaks deseados
3. Configura opciones de descarga (merge, formato, etc.)
4. Descarga archivos para ejecutar manualmente
5. Puede ver historial de tweaks aplicados
